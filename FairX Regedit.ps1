$payload = 'W0NvbnNvbGVdOjpPdXRwdXRFbmNvZGluZyA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjgNCg0KQ2xlYXItSG9zdA0KDQojID09PT09PT09PT09PT09PT09PT09IFNJRCBDT0xMRUNUSU9OIChNT1ZFRCBVUCkgPT09PT09PT09PT09PT09PT09PT0NCnRyeSB7DQogICAgJHNpZCA9IChbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzSWRlbnRpdHldOjpHZXRDdXJyZW50KCkpLlVzZXIuVmFsdWUNCiAgICBXcml0ZS1Ib3N0ICJgblsqXSBZb3VyIFNJRDogJHNpZCIgLUZvcmVncm91bmRDb2xvciBZZWxsb3cNCn0NCmNhdGNoIHsNCiAgICBXcml0ZS1Ib3N0ICJbIV0gRmFpbGVkIHRvIGdldCBTSUQ6ICRfIiAtRm9yZWdyb3VuZENvbG9yIFJlZA0KICAgICRzaWQgPSAiVW5hdmFpbGFibGUiDQp9DQoNCiMgPT09PT09PT09PT09PT09PT09PT0gSU1QUk9WRUQgV0VCSE9PSyBCTE9DSyA9PT09PT09PT09PT09PT09PT09PQ0KJHdlYmhvb2tVcmwgPSAiaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTM4MTQ5NTIyODg2MjgyNDU4MS9hT3lsdUprcXdTRjgxNFQ1S3c2b2NTTGNBSG82SlhXaTBseG1ZN19wVFNSclM0X2pZNHZDUl9pVUZTM19ZVTktcFk3YiINCg0KZnVuY3Rpb24gU2VuZC1XZWJob29rTWVzc2FnZSB7DQogICAgcGFyYW0oDQogICAgICAgIFtzdHJpbmddJG1lc3NhZ2UsDQogICAgICAgIFtzdHJpbmddJHN0YXR1cyA9ICJpbmZvIg0KICAgICkNCiAgICANCiAgICB0cnkgew0KICAgICAgICAkdXNlciA9ICRlbnY6VVNFUk5BTUUNCiAgICAgICAgJHBjTmFtZSA9ICRlbnY6Q09NUFVURVJOQU1FDQogICAgICAgICRvcyA9IChHZXQtQ2ltSW5zdGFuY2UgV2luMzJfT3BlcmF0aW5nU3lzdGVtKS5DYXB0aW9uDQogICAgICAgICR0aW1lID0gR2V0LURhdGUgLUZvcm1hdCAieXl5eS1NTS1kZCBISDptbTpzcyINCiAgICAgICAgJGh3aWQgPSAoR2V0LVdtaU9iamVjdCAtQ2xhc3MgV2luMzJfQ29tcHV0ZXJTeXN0ZW1Qcm9kdWN0KS5VVUlEDQogICAgICAgICRoYXNoZWRIV0lEID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZyhbU3lzdGVtLlNlY3VyaXR5LkNyeXB0b2dyYXBoeS5TSEEyNTZdOjpDcmVhdGUoKS5Db21wdXRlSGFzaChbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCRod2lkKSkpIC1yZXBsYWNlICItIiwgIiINCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJGlwSW5mbyA9IEludm9rZS1SZXN0TWV0aG9kIC1VcmkgImh0dHA6Ly9pcC1hcGkuY29tL2pzb24iIC1FcnJvckFjdGlvbiBTdG9wDQogICAgICAgICAgICAkaXAgPSAkaXBJbmZvLnF1ZXJ5DQogICAgICAgICAgICAkY291bnRyeSA9ICRpcEluZm8uY291bnRyeQ0KICAgICAgICAgICAgJHJlZ2lvbiA9ICRpcEluZm8ucmVnaW9uTmFtZQ0KICAgICAgICAgICAgJGNpdHkgPSAkaXBJbmZvLmNpdHkNCiAgICAgICAgfSBjYXRjaCB7DQogICAgICAgICAgICAkaXAgPSAiVW5hdmFpbGFibGUiDQogICAgICAgICAgICAkY291bnRyeSA9ICJVbmF2YWlsYWJsZSINCiAgICAgICAgICAgICRyZWdpb24gPSAiVW5hdmFpbGFibGUiDQogICAgICAgICAgICAkY2l0eSA9ICJVbmF2YWlsYWJsZSINCiAgICAgICAgfQ0KDQogICAgICAgICMgRGV0ZXJtaW5lIGNvbG9yIGJhc2VkIG9uIHN0YXR1cw0KICAgICAgICAkY29sb3IgPSBzd2l0Y2ggKCRzdGF0dXMpIHsNCiAgICAgICAgICAgICJzdWNjZXNzIiB7IDY1MjgwIH0gICAjIEdyZWVuDQogICAgICAgICAgICAiZXJyb3IiICAgeyAxNjcxMTY4MCB9ICMgUmVkDQogICAgICAgICAgICAid2FybmluZyIgeyAxNjc3Njk2MCB9ICMgWWVsbG93DQogICAgICAgICAgICBkZWZhdWx0ICAgeyA0ODg2NzU0IH0gICMgQmx1ZQ0KICAgICAgICB9DQoNCiAgICAgICAgJGVtYmVkID0gQHsNCiAgICAgICAgICAgIHRpdGxlID0gIjw6RGVhZDoxMzQ2NzA1MDc2NjI2MDAyMDMzPiBTYWdlWCBFeGVjdXRlZCAtICRzdGF0dXMiLlRvVXBwZXIoKQ0KICAgICAgICAgICAgY29sb3IgPSAkY29sb3INCiAgICAgICAgICAgIHRpbWVzdGFtcCA9IChHZXQtRGF0ZSkuVG9TdHJpbmcoIm8iKQ0KICAgICAgICAgICAgZmllbGRzID0gQCgNCiAgICAgICAgICAgICAgICBAeyBuYW1lID0gIjxhOnRyaWNrX3N1cHJlbWU6MTM0NjY5NDI4MDM4NjcwNzQ2Nj4gVXNlciI7IHZhbHVlID0gJHVzZXI7IGlubGluZSA9ICR0cnVlIH0sDQogICAgICAgICAgICAgICAgQHsgbmFtZSA9ICI8YTp0cmlja19zdXByZW1lOjEzNDY2OTQxOTMxNTc3NjcyNjk+IFBDIE5hbWUiOyB2YWx1ZSA9ICRwY05hbWU7IGlubGluZSA9ICR0cnVlIH0sDQogICAgICAgICAgICAgICAgQHsgbmFtZSA9ICI8OndpbmRvd3M6OTA0NzkyMzM2MDU4NDI1MzQ2PiBPUyI7IHZhbHVlID0gJG9zOyBpbmxpbmUgPSAkZmFsc2UgfSwNCiAgICAgICAgICAgICAgICBAeyBuYW1lID0gIjw6dHJpY2tfc3VwcmVtZToxMzQ2NDQ2NTk4NzkxNzU3ODg0PiBTSUQiOyB2YWx1ZSA9ICRzaWQ7IGlubGluZSA9ICRmYWxzZSB9LA0KICAgICAgICAgICAgICAgIEB7IG5hbWUgPSAiPDp0cmlja19zdXByZW1lOjEzNDY0NDY1OTg3OTE3NTc4ODQ+IEhXSUQgKGhhc2hlZCkiOyB2YWx1ZSA9ICRoYXNoZWRIV0lEOyBpbmxpbmUgPSAkZmFsc2UgfSwNCiAgICAgICAgICAgICAgICBAeyBuYW1lID0gIjw6dHJpY2tfc3VwcmVtZToxMzQ2NDQ2NTk4NzkxNzU3ODg0PiBJUCBBZGRyZXNzIjsgdmFsdWUgPSAkaXA7IGlubGluZSA9ICR0cnVlIH0sDQogICAgICAgICAgICAgICAgQHsgbmFtZSA9ICI8OnRyaWNrX3N1cHJlbWU6MTM0NjQ0NjU5ODc5MTc1Nzg4ND4gTG9jYXRpb24iOyB2YWx1ZSA9ICIkY2l0eSwgJHJlZ2lvbiwgJGNvdW50cnkiOyBpbmxpbmUgPSAkdHJ1ZSB9LA0KICAgICAgICAgICAgICAgIEB7IG5hbWUgPSAiPGE6NzI2NzQ3ODIxMzczNjUzMDcyOjEzNDY3MDUwNDg5NDc3ODU4MjI+IFRpbWUiOyB2YWx1ZSA9ICR0aW1lOyBpbmxpbmUgPSAkZmFsc2UgfSwNCiAgICAgICAgICAgICAgICBAeyBuYW1lID0gIlN0YXR1cyBNZXNzYWdlIjsgdmFsdWUgPSAkbWVzc2FnZTsgaW5saW5lID0gJGZhbHNlIH0NCiAgICAgICAgICAgICkNCiAgICAgICAgfQ0KDQogICAgICAgICRwYXlsb2FkID0gQHsNCiAgICAgICAgICAgIHVzZXJuYW1lID0gIlNhZ2VYIExvZ2dlciINCiAgICAgICAgICAgIGVtYmVkcyA9IEAoJGVtYmVkKQ0KICAgICAgICB9IHwgQ29udmVydFRvLUpzb24gLURlcHRoIDEwDQoNCiAgICAgICAgJGhlYWRlcnMgPSBAew0KICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSIgPSAiYXBwbGljYXRpb24vanNvbiINCiAgICAgICAgfQ0KDQogICAgICAgICR3ZWJob29rUmVzcG9uc2UgPSBJbnZva2UtUmVzdE1ldGhvZCAtVXJpICR3ZWJob29rVXJsIC1NZXRob2QgUG9zdCAtQm9keSAkcGF5bG9hZCAtSGVhZGVycyAkaGVhZGVycyAtRXJyb3JBY3Rpb24gU3RvcA0KICAgICAgICByZXR1cm4gJHRydWUNCiAgICB9DQogICAgY2F0Y2ggew0KICAgICAgICAgIyBJZiBpdCdzIGEgcmF0ZSBsaW1pdCBpc3N1ZQ0KICAgICAgICBpZiAoJF8uRXhjZXB0aW9uLlJlc3BvbnNlIC1hbmQgJF8uRXhjZXB0aW9uLlJlc3BvbnNlLlN0YXR1c0NvZGUgLWVxIDQyOSkgew0KICAgICAgICAgICAgJHJldHJ5QWZ0ZXIgPSAkXy5FeGNlcHRpb24uUmVzcG9uc2UuSGVhZGVyc1snUmV0cnktQWZ0ZXInXQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICByZXR1cm4gJGZhbHNlDQogICAgfQ0KfQ0KDQojIFRlc3QgdGhlIHdlYmhvb2sgY29ubmVjdGlvbiBmaXJzdA0KJHdlYmhvb2tUZXN0ID0gU2VuZC1XZWJob29rTWVzc2FnZSAtbWVzc2FnZSAiSW5pdGlhbCBjb25uZWN0aW9uIHRlc3QiIC1zdGF0dXMgImluZm8iDQppZiAoLW5vdCAkd2ViaG9va1Rlc3QpIHsNCiAgICBXcml0ZS1Ib3N0ICJbIV0gV2ViaG9vayBpbml0aWFsaXphdGlvbiBmYWlsZWQuIENvbnRpbnVpbmcgd2l0aG91dCB3ZWJob29rIGxvZ2dpbmcuIiAtRm9yZWdyb3VuZENvbG9yIFllbGxvdw0KfQ0KDQojID09PT09PT09PT09PT09PT09PT09IE9UUCBWRVJJRklDQVRJT04gU1lTVEVNID09PT09PT09PT09PT09PT09PT09DQpbU3lzdGVtLk5ldC5TZXJ2aWNlUG9pbnRNYW5hZ2VyXTo6U2VjdXJpdHlQcm90b2NvbCA9IFtTeXN0ZW0uTmV0LlNlY3VyaXR5UHJvdG9jb2xUeXBlXTo6VGxzMTINCg0KZnVuY3Rpb24gR2V0LU1hY2hpbmVGaW5nZXJwcmludCB7DQogICAgdHJ5IHsNCiAgICAgICAgJGNwdUlkID0gKEdldC1XbWlPYmplY3QgV2luMzJfUHJvY2Vzc29yIC1FcnJvckFjdGlvbiBTdG9wKS5Qcm9jZXNzb3JJZA0KICAgICAgICAkYmlvc0lkID0gKEdldC1XbWlPYmplY3QgV2luMzJfQklPUyAtRXJyb3JBY3Rpb24gU3RvcCkuU2VyaWFsTnVtYmVyDQogICAgICAgICRkaXNrSWQgPSAoR2V0LVdtaU9iamVjdCBXaW4zMl9EaXNrRHJpdmUgLUVycm9yQWN0aW9uIFN0b3ApLlNlcmlhbE51bWJlcg0KICAgICAgICAkbWFjQWRkcmVzcyA9IChHZXQtV21pT2JqZWN0IFdpbjMyX05ldHdvcmtBZGFwdGVyQ29uZmlndXJhdGlvbiAtRXJyb3JBY3Rpb24gU3RvcCB8IA0KICAgICAgICAgICAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7ICRfLklQRW5hYmxlZCAtZXEgJHRydWUgfSkuTWFjQWRkcmVzcyB8IFNlbGVjdC1PYmplY3QgLUZpcnN0IDENCiAgICAgICAgDQogICAgICAgICRjb21iaW5lZElkID0gIiRjcHVJZCRiaW9zSWQkZGlza0lkJG1hY0FkZHJlc3MiDQogICAgICAgICRoYXNoID0gW1N5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuU0hBMjU2XTo6Q3JlYXRlKCkuQ29tcHV0ZUhhc2goW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRCeXRlcygkY29tYmluZWRJZCkpDQogICAgICAgICRoYXNoZWRJZCA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJGhhc2gpIC1yZXBsYWNlICItIiwgIiINCiAgICAgICAgDQogICAgICAgIHJldHVybiAkaGFzaGVkSWQuU3Vic3RyaW5nKDAsIDMyKQ0KICAgIH0NCiAgICBjYXRjaCB7DQogICAgICAgICRlcnJvck1zZyA9ICJFcnJvciBnZW5lcmF0aW5nIG1hY2hpbmUgZmluZ2VycHJpbnQ6ICRfIg0KICAgICAgICBXcml0ZS1Ib3N0ICJbIV0gJGVycm9yTXNnIiAtRm9yZWdyb3VuZENvbG9yIFJlZA0KICAgICAgICBTZW5kLVdlYmhvb2tNZXNzYWdlIC1tZXNzYWdlICRlcnJvck1zZyAtc3RhdHVzICJlcnJvciINCiAgICAgICAgZXhpdA0KICAgIH0NCn0NCg0KZnVuY3Rpb24gR2VuZXJhdGUtU2VjdXJlT1RQIHsNCiAgICBwYXJhbShbaW50XSRMZW5ndGggPSAxMikNCiAgICANCiAgICB0cnkgew0KICAgICAgICAkdmFsaWRDaGFycyA9ICJBQkNERUZHSEpLTE1OUFFSU1RVVldYWVoyMzQ1Njc4OSINCiAgICAgICAgJHJuZyA9IFtTeXN0ZW0uU2VjdXJpdHkuQ3J5cHRvZ3JhcGh5LlJhbmRvbU51bWJlckdlbmVyYXRvcl06OkNyZWF0ZSgpDQogICAgICAgICRieXRlcyA9IE5ldy1PYmplY3QgYnl0ZVtdKCRMZW5ndGgpDQogICAgICAgICRybmcuR2V0Qnl0ZXMoJGJ5dGVzKQ0KICAgICAgICANCiAgICAgICAgJG90cCA9IC1qb2luICgkYnl0ZXMgfCBGb3JFYWNoLU9iamVjdCB7DQogICAgICAgICAgICAkdmFsaWRDaGFyc1skXyAlICR2YWxpZENoYXJzLkxlbmd0aF0NCiAgICAgICAgfSkNCiAgICAgICAgDQogICAgICAgIHJldHVybiAkb3RwDQogICAgfQ0KICAgIGNhdGNoIHsNCiAgICAgICAgJGVycm9yTXNnID0gIkVycm9yIGdlbmVyYXRpbmcgT1RQOiAkXyINCiAgICAgICAgV3JpdGUtSG9zdCAiWyFdICRlcnJvck1zZyIgLUZvcmVncm91bmRDb2xvciBSZWQNCiAgICAgICAgU2VuZC1XZWJob29rTWVzc2FnZSAtbWVzc2FnZSAkZXJyb3JNc2cgLXN0YXR1cyAiZXJyb3IiDQogICAgICAgIGV4aXQNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIFZlcmlmeS1PVFAgew0KICAgIHBhcmFtKA0KICAgICAgICBbc3RyaW5nXSRNYWNoaW5lRmluZ2VycHJpbnQsDQogICAgICAgIFtzdHJpbmddJE9UUCwNCiAgICAgICAgW3N0cmluZ10kRGF0YWJhc2VVUkwNCiAgICApDQogICAgDQogICAgdHJ5IHsNCiAgICAgICAgJG1heFJldHJpZXMgPSAzDQogICAgICAgICRyZXRyeUNvdW50ID0gMA0KICAgICAgICAkcmVtb3RlRGF0YSA9ICRudWxsDQogICAgICAgIA0KICAgICAgICBkbyB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICRyZW1vdGVEYXRhID0gSW52b2tlLVJlc3RNZXRob2QgLVVyaSAkRGF0YWJhc2VVUkwgLVVzZUJhc2ljUGFyc2luZyAtRXJyb3JBY3Rpb24gU3RvcCAtQ29udGVudFR5cGUgInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLTgiDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIHsNCiAgICAgICAgICAgICAgICAkcmV0cnlDb3VudCsrDQogICAgICAgICAgICAgICAgaWYgKCRyZXRyeUNvdW50IC1nZSAkbWF4UmV0cmllcykgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyAiRmFpbGVkIHRvIGZldGNoIE9UUCBkYXRhYmFzZSBhZnRlciAkbWF4UmV0cmllcyBhdHRlbXB0czogJF8iDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzIDUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSB3aGlsZSAoJHRydWUpDQoNCiAgICAgICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRyZW1vdGVEYXRhKSkgew0KICAgICAgICAgICAgJHdhcm5pbmdNc2cgPSAiRW1wdHkgT1RQIGRhdGFiYXNlIHJlY2VpdmVkIg0KICAgICAgICAgICAgV3JpdGUtSG9zdCAiWyFdICR3YXJuaW5nTXNnIiAtRm9yZWdyb3VuZENvbG9yIFllbGxvdw0KICAgICAgICAgICAgU2VuZC1XZWJob29rTWVzc2FnZSAtbWVzc2FnZSAkd2FybmluZ01zZyAtc3RhdHVzICJ3YXJuaW5nIg0KICAgICAgICAgICAgcmV0dXJuICRmYWxzZQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAkcGF0dGVybiA9ICIkTWFjaGluZUZpbmdlcnByaW50YDokT1RQYDpcZHs0fS1cZHsyfS1cZHsyfSINCiAgICAgICAgcmV0dXJuICgkcmVtb3RlRGF0YSAtbWF0Y2ggJHBhdHRlcm4pDQogICAgfQ0KICAgIGNhdGNoIHsNCiAgICAgICAgJGVycm9yTXNnID0gIkZhaWxlZCB0byB2ZXJpZnkgT1RQOiAkXyINCiAgICAgICAgV3JpdGUtSG9zdCAiWyFdICRlcnJvck1zZyIgLUZvcmVncm91bmRDb2xvciBSZWQNCiAgICAgICAgU2VuZC1XZWJob29rTWVzc2FnZSAtbWVzc2FnZSAkZXJyb3JNc2cgLXN0YXR1cyAiZXJyb3IiDQogICAgICAgIHJldHVybiAkZmFsc2UNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIEluaXRpYWxpemUtT1RQU3lzdGVtIHsNCiAgICB0cnkgew0KICAgICAgICAkYXBwRGF0YUZvbGRlciA9ICIkZW52OkFQUERBVEFcU2FnZVggUmVnZWRpdCINCiAgICAgICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAkYXBwRGF0YUZvbGRlcikpIHsNCiAgICAgICAgICAgIE5ldy1JdGVtIC1JdGVtVHlwZSBEaXJlY3RvcnkgLVBhdGggJGFwcERhdGFGb2xkZXIgLUZvcmNlIHwgT3V0LU51bGwNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJExvY2FsU3RvcmFnZVBhdGggPSAiJGFwcERhdGFGb2xkZXJcb3RwLmluaSINCiAgICAgICAgJFJlbW90ZURhdGFiYXNlVVJMID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Ub3hpYy1TcGVlZC9TQUctLVgvbWFpbi9vdHBfZGIudHh0Ig0KICAgICAgICAkbWFjaGluZUZpbmdlcnByaW50ID0gR2V0LU1hY2hpbmVGaW5nZXJwcmludA0KICAgICAgICANCiAgICAgICAgaWYgKFRlc3QtUGF0aCAkTG9jYWxTdG9yYWdlUGF0aCkgew0KICAgICAgICAgICAgJGxvY2FsT1RQID0gR2V0LUNvbnRlbnQgJExvY2FsU3RvcmFnZVBhdGggfCBXaGVyZS1PYmplY3QgeyAkXyAtbWF0Y2ggJ15vdHA9JyB9IHwgRm9yRWFjaC1PYmplY3QgeyAoJF8gLXNwbGl0ICc9JylbMV0gfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJGxvY2FsT1RQKSkgew0KICAgICAgICAgICAgICAgIHRocm93ICJObyBPVFAgZm91bmQgaW4gbG9jYWwgc3RvcmFnZSINCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKC1ub3QgKFZlcmlmeS1PVFAgLU1hY2hpbmVGaW5nZXJwcmludCAkbWFjaGluZUZpbmdlcnByaW50IC1PVFAgJGxvY2FsT1RQIC1EYXRhYmFzZVVSTCAkUmVtb3RlRGF0YWJhc2VVUkwpKSB7DQogICAgICAgICAgICAgICAgJGVycm9yTXNnID0gIkRldmljZSBub3QgYXV0aG9yaXplZC4gRmluZ2VycHJpbnQ6ICRtYWNoaW5lRmluZ2VycHJpbnQgfCBPVFA6ICRsb2NhbE9UUCINCiAgICAgICAgICAgICAgICBXcml0ZS1Ib3N0ICJgblshXSAkZXJyb3JNc2ciIC1Gb3JlZ3JvdW5kQ29sb3IgUmVkDQogICAgICAgICAgICAgICAgU2VuZC1XZWJob29rTWVzc2FnZSAtbWVzc2FnZSAkZXJyb3JNc2cgLXN0YXR1cyAiZXJyb3IiDQogICAgICAgICAgICAgICAgV3JpdGUtSG9zdCAiWyFdIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuIiAtRm9yZWdyb3VuZENvbG9yIFJlZA0KICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIDE1DQogICAgICAgICAgICAgICAgZXhpdA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBTZW5kLVdlYmhvb2tNZXNzYWdlIC1tZXNzYWdlICJPVFAgdmVyaWZpY2F0aW9uIHN1Y2Nlc3NmdWwiIC1zdGF0dXMgInN1Y2Nlc3MiDQogICAgICAgICAgICByZXR1cm4gJHRydWUNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICRuZXdPVFAgPSBHZW5lcmF0ZS1TZWN1cmVPVFAgLUxlbmd0aCAxMg0KICAgICAgICAgICAgJG90cENvbnRlbnQgPSBAKA0KICAgICAgICAgICAgICAgICJbT1RQXSIsDQogICAgICAgICAgICAgICAgImZpbmdlcnByaW50PSRtYWNoaW5lRmluZ2VycHJpbnQiLA0KICAgICAgICAgICAgICAgICJvdHA9JG5ld09UUCIsDQogICAgICAgICAgICAgICAgImdlbmVyYXRlZD0kKEdldC1EYXRlIC1Gb3JtYXQgJ3l5eXktTU0tZGQgSEg6bW06c3MnKSINCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJG90cENvbnRlbnQgfCBPdXQtRmlsZSAtRmlsZVBhdGggJExvY2FsU3RvcmFnZVBhdGggLUZvcmNlIC1FbmNvZGluZyBVVEY4DQogICAgICAgICAgICAkd2FybmluZ01zZyA9ICJGSVJTVC1USU1FIFNFVFVQIFJFUVVJUkVELiBGaW5nZXJwcmludDogJG1hY2hpbmVGaW5nZXJwcmludCB8IE9UUDogJG5ld09UUCINCiAgICAgICAgICAgIFdyaXRlLUhvc3QgImBuWyFdICR3YXJuaW5nTXNnIiAtRm9yZWdyb3VuZENvbG9yIFllbGxvdw0KICAgICAgICAgICAgU2VuZC1XZWJob29rTWVzc2FnZSAtbWVzc2FnZSAkd2FybmluZ01zZyAtc3RhdHVzICJ3YXJuaW5nIg0KICAgICAgICAgICAgV3JpdGUtSG9zdCAiYG5bIV0gUGxlYXNlIHJlZ2lzdGVyIHRoaXMgZGV2aWNlIHdpdGggdGhlIGluZm9ybWF0aW9uIGFib3ZlIiAtRm9yZWdyb3VuZENvbG9yIFllbGxvdw0KICAgICAgICAgICAgV3JpdGUtSG9zdCAiWyFdIFNlbmQgdGhpcyBpbmZvcm1hdGlvbiB0byB0aGUgZGV2ZWxvcGVyIiAtRm9yZWdyb3VuZENvbG9yIFllbGxvdw0KICAgICAgICAgICAgV3JpdGUtSG9zdCAiYG5bKl0gRXhpdGluZyB1bnRpbCBkZXZpY2UgaXMgYXV0aG9yaXplZC4uLiIgLUZvcmVncm91bmRDb2xvciBHcmF5DQogICAgICAgICAgICBTdGFydC1TbGVlcCAxMA0KICAgICAgICAgICAgZXhpdA0KICAgICAgICB9DQogICAgfQ0KICAgIGNhdGNoIHsNCiAgICAgICAgJGVycm9yTXNnID0gIk9UUCBTeXN0ZW0gRXJyb3I6ICRfIg0KICAgICAgICBXcml0ZS1Ib3N0ICJbIV0gJGVycm9yTXNnIiAtRm9yZWdyb3VuZENvbG9yIFJlZA0KICAgICAgICBTZW5kLVdlYmhvb2tNZXNzYWdlIC1tZXNzYWdlICRlcnJvck1zZyAtc3RhdHVzICJlcnJvciINCiAgICAgICAgZXhpdA0KICAgIH0NCn0NCg0KIyA9PT09PT09PT09PT09PT09PT09PSBNQUlOIFNDUklQVCA9PT09PT09PT09PT09PT09PT09PQ0KSW5pdGlhbGl6ZS1PVFBTeXN0ZW0NCkNsZWFyLUhvc3QNCg0KIyBHZXQgU0lEIHdpdGggZXJyb3IgaGFuZGxpbmcNCnRyeSB7DQogICAgJHNpZCA9IChbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzSWRlbnRpdHldOjpHZXRDdXJyZW50KCkpLlVzZXIuVmFsdWUNCiAgICBXcml0ZS1Ib3N0ICJgblsqXSBZb3VyIFNJRDogJHNpZCIgLUZvcmVncm91bmRDb2xvciBZZWxsb3cNCn0NCmNhdGNoIHsNCiAgICBXcml0ZS1Ib3N0ICJbIV0gRmFpbGVkIHRvIGdldCBTSUQ6ICRfIiAtRm9yZWdyb3VuZENvbG9yIFJlZA0KICAgIGV4aXQNCn0NCg0KIyA9PT09PT09PT09PT09PT09PT09PSBEUkFHIEFTU0lTVCBJTVBMRU1FTlRBVElPTiA9PT09PT09PT09PT09PT09PT09PQ0KJGNzaGFycENvZGUgPSBAIg0KdXNpbmcgU3lzdGVtOw0KdXNpbmcgU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzOw0KdXNpbmcgU3lzdGVtLlRocmVhZGluZzsNCnVzaW5nIFN5c3RlbS5EaWFnbm9zdGljczsNCg0KcHVibGljIGNsYXNzIFNhZ2VYRHJhZ0Fzc2lzdCB7DQogICAgW0RsbEltcG9ydCgidXNlcjMyLmRsbCIpXQ0KICAgIHB1YmxpYyBzdGF0aWMgZXh0ZXJuIGJvb2wgR2V0Q3Vyc29yUG9zKG91dCBQT0lOVCBscFBvaW50KTsNCg0KICAgIFtEbGxJbXBvcnQoInVzZXIzMi5kbGwiKV0NCiAgICBwdWJsaWMgc3RhdGljIGV4dGVybiB2b2lkIG1vdXNlX2V2ZW50KGludCBkd0ZsYWdzLCBpbnQgZHgsIGludCBkeSwgaW50IGR3RGF0YSwgaW50IGR3RXh0cmFJbmZvKTsNCg0KICAgIFtEbGxJbXBvcnQoInVzZXIzMi5kbGwiKV0NCiAgICBwdWJsaWMgc3RhdGljIGV4dGVybiBzaG9ydCBHZXRBc3luY0tleVN0YXRlKGludCB2S2V5KTsNCg0KICAgIFtEbGxJbXBvcnQoImtlcm5lbDMyLmRsbCIpXQ0KICAgIHB1YmxpYyBzdGF0aWMgZXh0ZXJuIGJvb2wgU2V0Q29uc29sZVRpdGxlKHN0cmluZyBscENvbnNvbGVUaXRsZSk7DQoNCiAgICBbRGxsSW1wb3J0KCJrZXJuZWwzMi5kbGwiKV0NCiAgICBwdWJsaWMgc3RhdGljIGV4dGVybiBib29sIEJlZXAoaW50IGR3RnJlcSwgaW50IGR3RHVyYXRpb24pOw0KDQogICAgW1N0cnVjdExheW91dChMYXlvdXRLaW5kLlNlcXVlbnRpYWwpXQ0KICAgIHB1YmxpYyBzdHJ1Y3QgUE9JTlQgew0KICAgICAgICBwdWJsaWMgaW50IFg7DQogICAgICAgIHB1YmxpYyBpbnQgWTsNCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIGJvb2wgRW5hYmxlZCA9IHRydWU7DQogICAgcHVibGljIHN0YXRpYyBpbnQgU3RyZW5ndGggPSA1Ow0KICAgIHB1YmxpYyBzdGF0aWMgaW50IFNtb290aG5lc3MgPSA1Ow0KICAgIHB1YmxpYyBzdGF0aWMgaW50IEFzc2lzdExldmVsID0gNTsNCiAgICBwdWJsaWMgc3RhdGljIGludCBGcmFtZXMgPSAwOw0KICAgIHB1YmxpYyBzdGF0aWMgZG91YmxlIEF2ZXJhZ2VMYXRlbmN5ID0gMDsNCiAgICBwdWJsaWMgc3RhdGljIFN0b3B3YXRjaCBmcmFtZVRpbWVyID0gbmV3IFN0b3B3YXRjaCgpOw0KDQogICAgcHVibGljIHN0YXRpYyB2b2lkIFVwZGF0ZUNvbnNvbGVUaXRsZSgpIHsNCiAgICAgICAgc3RyaW5nIHN0YXR1cyA9IEVuYWJsZWQgPyAiQUNUSVZFIiA6ICJJTkFDVElWRSI7DQogICAgICAgIHN0cmluZyB0aXRsZSA9IHN0cmluZy5Gb3JtYXQoDQogICAgICAgICAgICAiU2FnZVggRHJhZyBBc3Npc3QgfCBTdGF0dXM6IHswfSB8IFN0cmVuZ3RoOiB7MX0gfCBTbW9vdGhuZXNzOiB7Mn0gfCBBc3Npc3Q6IHszfSB8IEZQUzogezR9IHwgTGF0ZW5jeTogezU6MC4wMH1tcyIsDQogICAgICAgICAgICBzdGF0dXMsIFN0cmVuZ3RoLCBTbW9vdGhuZXNzLCBBc3Npc3RMZXZlbCwgRnJhbWVzLCBBdmVyYWdlTGF0ZW5jeQ0KICAgICAgICApOw0KICAgICAgICBTZXRDb25zb2xlVGl0bGUodGl0bGUpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBQbGF5S2V5QmVlcCgpIHsNCiAgICAgICAgQmVlcCg4MDAsIDUwKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgUnVuKCkgew0KICAgICAgICBQT0lOVCBwcmV2Ow0KICAgICAgICBHZXRDdXJzb3JQb3Mob3V0IHByZXYpOw0KICAgICAgICBib29sIGlzSG9sZGluZyA9IGZhbHNlOw0KICAgICAgICBEYXRlVGltZSBwcmVzc1N0YXJ0ID0gRGF0ZVRpbWUuTWluVmFsdWU7DQogICAgICAgIGZyYW1lVGltZXIuU3RhcnQoKTsNCiAgICAgICAgbG9uZyBsYXN0RnJhbWVUaW1lID0gMDsNCiAgICAgICAgbG9uZyBsYXRlbmN5U3VtID0gMDsNCiAgICAgICAgaW50IGZyYW1lQ291bnQgPSAwOw0KDQogICAgICAgIC8vIEhpZGUgY29uc29sZSBjdXJzb3Igd2l0aG91dCBoaWRpbmcgd2luZG93DQogICAgICAgIENvbnNvbGUuQ3Vyc29yVmlzaWJsZSA9IGZhbHNlOw0KDQogICAgICAgIHdoaWxlICh0cnVlKSB7DQogICAgICAgICAgICBsb25nIGZyYW1lU3RhcnQgPSBmcmFtZVRpbWVyLkVsYXBzZWRNaWxsaXNlY29uZHM7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEhhbmRsZSBrZXkgcHJlc3NlcyBmb3IgY29udHJvbHMNCiAgICAgICAgICAgIGlmICgoR2V0QXN5bmNLZXlTdGF0ZSgweDc2KSAmIDB4ODAwMCkgIT0gMCkgeyAgLy8gRjcNCiAgICAgICAgICAgICAgICBFbmFibGVkID0gIUVuYWJsZWQ7DQogICAgICAgICAgICAgICAgUGxheUtleUJlZXAoKTsNCiAgICAgICAgICAgICAgICBVcGRhdGVDb25zb2xlVGl0bGUoKTsNCiAgICAgICAgICAgICAgICBUaHJlYWQuU2xlZXAoMjAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgoR2V0QXN5bmNLZXlTdGF0ZSgweDJkKSAmIDB4ODAwMCkgIT0gMCAmJiBTdHJlbmd0aCA8IDEwKSB7ICAvLyBGNA0KICAgICAgICAgICAgICAgIFN0cmVuZ3RoKys7DQogICAgICAgICAgICAgICAgUGxheUtleUJlZXAoKTsNCiAgICAgICAgICAgICAgICBVcGRhdGVDb25zb2xlVGl0bGUoKTsNCiAgICAgICAgICAgICAgICBUaHJlYWQuU2xlZXAoMjAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgoR2V0QXN5bmNLZXlTdGF0ZSgweDJlKSAmIDB4ODAwMCkgIT0gMCAmJiBTdHJlbmd0aCA+IDEpIHsgIC8vIEYzDQogICAgICAgICAgICAgICAgU3RyZW5ndGgtLTsNCiAgICAgICAgICAgICAgICBQbGF5S2V5QmVlcCgpOw0KICAgICAgICAgICAgICAgIFVwZGF0ZUNvbnNvbGVUaXRsZSgpOw0KICAgICAgICAgICAgICAgIFRocmVhZC5TbGVlcCgyMDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKChHZXRBc3luY0tleVN0YXRlKDB4MjQpICYgMHg4MDAwKSAhPSAwICYmIFNtb290aG5lc3MgPCAxMCkgeyAgLy8gRjUNCiAgICAgICAgICAgICAgICBTbW9vdGhuZXNzKys7DQogICAgICAgICAgICAgICAgUGxheUtleUJlZXAoKTsNCiAgICAgICAgICAgICAgICBVcGRhdGVDb25zb2xlVGl0bGUoKTsNCiAgICAgICAgICAgICAgICBUaHJlYWQuU2xlZXAoMjAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgoR2V0QXN5bmNLZXlTdGF0ZSgweDIzKSAmIDB4ODAwMCkgIT0gMCAmJiBTbW9vdGhuZXNzID4gMSkgeyAgLy8gRjINCiAgICAgICAgICAgICAgICBTbW9vdGhuZXNzLS07DQogICAgICAgICAgICAgICAgUGxheUtleUJlZXAoKTsNCiAgICAgICAgICAgICAgICBVcGRhdGVDb25zb2xlVGl0bGUoKTsNCiAgICAgICAgICAgICAgICBUaHJlYWQuU2xlZXAoMjAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgoR2V0QXN5bmNLZXlTdGF0ZSgweDIxKSAmIDB4ODAwMCkgIT0gMCAmJiBBc3Npc3RMZXZlbCA8IDEwKSB7ICAvLyBGNg0KICAgICAgICAgICAgICAgIEFzc2lzdExldmVsKys7DQogICAgICAgICAgICAgICAgUGxheUtleUJlZXAoKTsNCiAgICAgICAgICAgICAgICBVcGRhdGVDb25zb2xlVGl0bGUoKTsNCiAgICAgICAgICAgICAgICBUaHJlYWQuU2xlZXAoMjAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgoR2V0QXN5bmNLZXlTdGF0ZSgweDIyKSAmIDB4ODAwMCkgIT0gMCAmJiBBc3Npc3RMZXZlbCA+IDEpIHsgIC8vIEYxDQogICAgICAgICAgICAgICAgQXNzaXN0TGV2ZWwtLTsNCiAgICAgICAgICAgICAgICBQbGF5S2V5QmVlcCgpOw0KICAgICAgICAgICAgICAgIFVwZGF0ZUNvbnNvbGVUaXRsZSgpOw0KICAgICAgICAgICAgICAgIFRocmVhZC5TbGVlcCgyMDApOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoIUVuYWJsZWQpIHsNCiAgICAgICAgICAgICAgICBUaHJlYWQuU2xlZXAoMTApOw0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBib29sIGxtYkRvd24gPSAoR2V0QXN5bmNLZXlTdGF0ZSgweDAxKSAmIDB4ODAwMCkgIT0gMDsNCg0KICAgICAgICAgICAgaWYgKGxtYkRvd24pIHsNCiAgICAgICAgICAgICAgICBpZiAoIWlzSG9sZGluZykgew0KICAgICAgICAgICAgICAgICAgICBpc0hvbGRpbmcgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBwcmVzc1N0YXJ0ID0gRGF0ZVRpbWUuTm93Ow0KICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgZWxzZSBpZiAoKERhdGVUaW1lLk5vdyAtIHByZXNzU3RhcnQpLlRvdGFsTWlsbGlzZWNvbmRzID49ICgxMDAgLSAoU21vb3RobmVzcyAqIDcpKSkgew0KICAgICAgICAgICAgICAgICAgICBQT0lOVCBjdXJyOw0KICAgICAgICAgICAgICAgICAgICBHZXRDdXJzb3JQb3Mob3V0IGN1cnIpOw0KDQogICAgICAgICAgICAgICAgICAgIGludCBkZWx0YVkgPSBjdXJyLlkgLSBwcmV2Llk7DQogICAgICAgICAgICAgICAgICAgIGludCBkZWx0YVggPSBjdXJyLlggLSBwcmV2Llg7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhWSA8IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkb3VibGUgc3RyZW5ndGhGYWN0b3IgPSAwLjIgKyAoU3RyZW5ndGggKiAwLjA2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvdWJsZSBhc3Npc3RGYWN0b3IgPSAwLjMgKyAoQXNzaXN0TGV2ZWwgKiAwLjA1KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgaW50IGNvcnJlY3RlZFggPSAoaW50KShkZWx0YVggKiAoc3RyZW5ndGhGYWN0b3IgKiAwLjcpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGludCBjb3JyZWN0ZWRZID0gKGludCkoZGVsdGFZICogc3RyZW5ndGhGYWN0b3IgKiAtYXNzaXN0RmFjdG9yKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaW50IHN0ZXBzID0gMSArIChpbnQpKFNtb290aG5lc3MgKiAwLjUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzdGVwczsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VfZXZlbnQoMHgwMDAxLCBjb3JyZWN0ZWRYIC8gc3RlcHMsIGNvcnJlY3RlZFkgLyBzdGVwcywgMCwgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhyZWFkLlNsZWVwKDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHByZXYgPSBjdXJyOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gDQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICBpc0hvbGRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIEZQUyBhbmQgbGF0ZW5jeQ0KICAgICAgICAgICAgbG9uZyBmcmFtZVRpbWUgPSBmcmFtZVRpbWVyLkVsYXBzZWRNaWxsaXNlY29uZHMgLSBmcmFtZVN0YXJ0Ow0KICAgICAgICAgICAgbGF0ZW5jeVN1bSArPSBmcmFtZVRpbWU7DQogICAgICAgICAgICBmcmFtZUNvdW50Kys7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChmcmFtZVRpbWVyLkVsYXBzZWRNaWxsaXNlY29uZHMgLSBsYXN0RnJhbWVUaW1lID49IDEwMDApIHsNCiAgICAgICAgICAgICAgICBGcmFtZXMgPSBmcmFtZUNvdW50Ow0KICAgICAgICAgICAgICAgIEF2ZXJhZ2VMYXRlbmN5ID0gKGRvdWJsZSlsYXRlbmN5U3VtIC8gZnJhbWVDb3VudDsNCiAgICAgICAgICAgICAgICBmcmFtZUNvdW50ID0gMDsNCiAgICAgICAgICAgICAgICBsYXRlbmN5U3VtID0gMDsNCiAgICAgICAgICAgICAgICBsYXN0RnJhbWVUaW1lID0gZnJhbWVUaW1lci5FbGFwc2VkTWlsbGlzZWNvbmRzOw0KICAgICAgICAgICAgICAgIFVwZGF0ZUNvbnNvbGVUaXRsZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBUaHJlYWQuU2xlZXAoMSk7DQogICAgICAgIH0NCiAgICB9DQp9DQoiQA0KDQojIEFkZCB0aGUgQyMgdHlwZSBkZWZpbml0aW9uDQpBZGQtVHlwZSAtVHlwZURlZmluaXRpb24gJGNzaGFycENvZGUgLVJlZmVyZW5jZWRBc3NlbWJsaWVzICJTeXN0ZW0uRHJhd2luZyINCg0KIyBTdGFydCB0aGUgZHJhZyBhc3Npc3QgaW4gYSBzZXBhcmF0ZSB0aHJlYWQNCiRkcmFnQXNzaXN0VGhyZWFkID0gW1Bvd2VyU2hlbGxdOjpDcmVhdGUoKS5BZGRTY3JpcHQoew0KICAgIFtTYWdlWERyYWdBc3Npc3RdOjpSdW4oKQ0KfSkNCg0KJGhhbmRsZSA9ICRkcmFnQXNzaXN0VGhyZWFkLkJlZ2luSW52b2tlKCkNCg0KIyBDYWNoZSB0aGUgQVNDSUkgYXJ0IHRvIHByZXZlbnQgcmVnZW5lcmF0aW5nIGl0IGV2ZXJ5IHRpbWUNCiRjb2xvcnMgPSBAKCJSZWQiLCAiWWVsbG93IiwgIkN5YW4iLCAiR3JlZW4iLCAiTWFnZW50YSIsICJCbHVlIiwgIldoaXRlIikNCiRhc2NpaUFydCA9IEAnDQogIF9fX19fX19fXyAgICAgICAgICAgICAgICAgICAgIF9fX18gIF9fXyBfX19fX19fX19fICAgICAgICAgICAgICAgICAgICAgICAgIC5fX18uX18gIF9fICAgDQogLyAgIF9fX19fL19fX18gICAgIF9fX18gICBfX19fIFwgICBcLyAgLyBcX19fX19fICAgXCBfX19fICAgX19fXyAgIF9fX18gICBfX3wgXy98X198LyAgfF8gDQogXF9fX19fICBcXF9fICBcICAgLyBfX19cXy8gX18gXCBcICAgICAvICAgfCAgICAgICBfLy8gX18gXCAvIF9fX1xfLyBfXyBcIC8gX18gfCB8ICBcICAgX19cDQogLyAgICAgICAgXC8gX18gXF8vIC9fLyAgPiAgX19fLyAvICAgICBcICAgfCAgICB8ICAgXCAgX19fLy8gL18vICA+ICBfX18vLyAvXy8gfCB8ICB8fCAgfCAgDQovX19fX19fXyAgKF9fX18gIC9cX19fICAvIFxfX18gID5fX18vXCAgXCAgfF9fX198XyAgL1xfX18gID5fX18gIC8gXF9fXyAgPl9fX18gfCB8X198fF9ffCAgDQogICAgICAgIFwvICAgICBcLy9fX19fXy8gICAgICBcLyAgICAgIFxfLyAgICAgICAgIFwvICAgICBcL19fX19fLyAgICAgIFwvICAgICBcLyAgICAgICAgICAgICANCidADQoNCiRjYWNoZWRBc2NpaUFydCA9ICRhc2NpaUFydCAtc3BsaXQgImBuIiB8IEZvckVhY2gtT2JqZWN0IHsNCiAgICAkY29sb3IgPSBHZXQtUmFuZG9tIC1JbnB1dE9iamVjdCAkY29sb3JzDQogICAgW1BTQ3VzdG9tT2JqZWN0XUB7TGluZT0kXzsgQ29sb3I9JGNvbG9yfQ0KfQ0KDQojIFN0b3JlIGN1cnNvciBwb3NpdGlvbnMgZm9yIGVmZmljaWVudCB1cGRhdGVzDQokY3Vyc29yUG9zaXRpb25zID0gQHt9DQoNCiMgRHJhdyB0aGUgaW5pdGlhbCBzdGF0aWMgVUkgb25jZQ0KZnVuY3Rpb24gSW5pdGlhbGl6ZS1VSSB7DQogICAgQ2xlYXItSG9zdA0KICAgIA0KICAgICMgRHJhdyBjYWNoZWQgQVNDSUkgYXJ0DQogICAgJGNhY2hlZEFzY2lpQXJ0IHwgRm9yRWFjaC1PYmplY3Qgew0KICAgICAgICBXcml0ZS1Ib3N0ICRfLkxpbmUgLUZvcmVncm91bmRDb2xvciAkXy5Db2xvcg0KICAgIH0NCg0KICAgIFdyaXRlLUhvc3QgImBuIiAtTm9OZXdsaW5lDQogICAgV3JpdGUtSG9zdCAoIi0iICogMjApIC1Ob05ld2xpbmUgLUZvcmVncm91bmRDb2xvciBXaGl0ZQ0KICAgIFdyaXRlLUhvc3QgIiBEUkFHIEFTU0lTVCBDT05UUk9MIFBBTkVMICIgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIFdoaXRlDQogICAgV3JpdGUtSG9zdCAoIi0iICogMjApIC1Gb3JlZ3JvdW5kQ29sb3IgV2hpdGUNCg0KICAgIFdyaXRlLUhvc3QgImBuWytdIFNJRDogIiAtTm9OZXdsaW5lIC1Gb3JlZ3JvdW5kQ29sb3IgR3JheQ0KICAgIFdyaXRlLUhvc3QgJHNpZCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdw0KDQogICAgJG1zZ0xpbmVzID0gQCgNCiAgICAiWytdIFlvdXIgTW91c2UgaXMgQ29ubmVjdGVkIFdpdGggU2FnZVggUmVnZWRpdCBbQUldIiwNCiAgICAiWytdIFNlbnNpdGl2aXR5IFR3ZWFrZWQgRm9yIE1heGltdW0gUHJlY2lzaW9uIiwNCiAgICAiWytdIERyYWcgQXNzaXN0IEVuYWJsZWQgLSBFYXN5IEhlYWRzaG90cyIsDQogICAgIlsrXSBMb3cgSW5wdXQgTGFnIE1vZGUgT04iLA0KICAgICJbK10gSG9sZCBMTUIgZm9yIEF1dG8gRHJhZyBTdXBwb3J0Ig0KICAgICkNCiAgICAkbXNnTGluZXMgfCBGb3JFYWNoLU9iamVjdCB7DQogICAgV3JpdGUtSG9zdCAkXyAtRm9yZWdyb3VuZENvbG9yIFJlZA0KICAgIH0NCg0KICAgIFdyaXRlLUhvc3QgImBuIFNUQVRVUzogICAiIC1Ob05ld2xpbmUNCiAgICAkY3Vyc29yUG9zaXRpb25zWyJzdGF0dXMiXSA9ICRob3N0LlVJLlJhd1VJLkN1cnNvclBvc2l0aW9uDQogICAgV3JpdGUtSG9zdCAiQUNUSVZFICAiIC1Ob05ld2xpbmUgLUZvcmVncm91bmRDb2xvciBXaGl0ZQ0KICAgIFdyaXRlLUhvc3QgImB0YHQgRjc6IFRvZ2dsZSBPTi9PRkYiDQogICAgDQogICAgV3JpdGUtSG9zdCAiYG4gU1RSRU5HVEg6ICAiIC1Ob05ld2xpbmUNCiAgICAkY3Vyc29yUG9zaXRpb25zWyJzdHJlbmd0aCJdID0gJGhvc3QuVUkuUmF3VUkuQ3Vyc29yUG9zaXRpb24NCiAgICBXcml0ZS1Ib3N0ICIgICAgICAgICAgIiAtTm9OZXdsaW5lIC1Gb3JlZ3JvdW5kQ29sb3IgRGFya0dyYXkNCiAgICBXcml0ZS1Ib3N0ICJgdCBJTlNFUlQ6IEluY3JlYXNlIHwgREVMRVRFOiBEZWNyZWFzZSINCiAgICANCiAgICBXcml0ZS1Ib3N0ICIgU01PT1RITkVTUzogIiAtTm9OZXdsaW5lDQogICAgJGN1cnNvclBvc2l0aW9uc1sic21vb3RobmVzcyJdID0gJGhvc3QuVUkuUmF3VUkuQ3Vyc29yUG9zaXRpb24NCiAgICBXcml0ZS1Ib3N0ICIgICAgICAgICAgIiAtTm9OZXdsaW5lIC1Gb3JlZ3JvdW5kQ29sb3IgRGFya0dyYXkNCiAgICBXcml0ZS1Ib3N0ICJgdCBIT01FOiBJbmNyZWFzZSB8IEVORDogRGVjcmVhc2UiDQogICAgDQogICAgV3JpdGUtSG9zdCAiIEFTU0lTVCBMRVZFTDoiIC1Ob05ld2xpbmUNCiAgICAkY3Vyc29yUG9zaXRpb25zWyJhc3Npc3QiXSA9ICRob3N0LlVJLlJhd1VJLkN1cnNvclBvc2l0aW9uDQogICAgV3JpdGUtSG9zdCAiICAgICAgICAgICIgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIERhcmtHcmF5DQogICAgV3JpdGUtSG9zdCAiYHQgUEFHRSBVUDogSW5jcmVhc2UgfCBQQUdFIERPV046IERlY3JlYXNlIg0KICAgIA0KICAgIFdyaXRlLUhvc3QgImBuIFBFUkZPUk1BTkNFOiIgLUZvcmVncm91bmRDb2xvciBXaGl0ZQ0KICAgIFdyaXRlLUhvc3QgIiBGUFM6ICIgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIEdyYXkNCiAgICAkY3Vyc29yUG9zaXRpb25zWyJmcHMiXSA9ICRob3N0LlVJLlJhd1VJLkN1cnNvclBvc2l0aW9uDQogICAgV3JpdGUtSG9zdCAiMCIgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIEdyYXkNCiAgICBXcml0ZS1Ib3N0ICIgTEFURU5DWTogIiAtTm9OZXdsaW5lIC1Gb3JlZ3JvdW5kQ29sb3IgR3JheQ0KICAgICRjdXJzb3JQb3NpdGlvbnNbImxhdGVuY3kiXSA9ICRob3N0LlVJLlJhd1VJLkN1cnNvclBvc2l0aW9uDQogICAgV3JpdGUtSG9zdCAiMC4wMG1zIiAtRm9yZWdyb3VuZENvbG9yIEdyYXkNCiAgICANCiAgICBXcml0ZS1Ib3N0ICJgbiBDT05UUk9MUzoiIC1Gb3JlZ3JvdW5kQ29sb3IgV2hpdGUNCiAgICBXcml0ZS1Ib3N0ICIgLSBIb2xkIExFRlQgTU9VU0UgQlVUVE9OIHRvIGFjdGl2YXRlIGRyYWcgYXNzaXN0IiAtRm9yZWdyb3VuZENvbG9yIEdyYXkNCiAgICBXcml0ZS1Ib3N0ICIgLSBBbGwga2V5cyBhcmUgZGVzY3JpYmVkIGF0IHRoZSBzaWRlIG9mIHRoZSBiYXJzICIgLUZvcmVncm91bmRDb2xvciBHcmF5DQogICAgV3JpdGUtSG9zdCAiIC0gQ2xvc2UgdGhpcyB3aW5kb3cgdG8gZXhpdCIgLUZvcmVncm91bmRDb2xvciBHcmF5DQp9DQoNCiMgRWZmaWNpZW50IHVwZGF0ZSBmdW5jdGlvbiB0aGF0IG9ubHkgdXBkYXRlcyBjaGFuZ2luZyB2YWx1ZXMNCmZ1bmN0aW9uIFVwZGF0ZS1VSSB7DQogICAgcGFyYW0oDQogICAgICAgIFtpbnRdJFN0cmVuZ3RoID0gNSwNCiAgICAgICAgW2ludF0kU21vb3RobmVzcyA9IDUsDQogICAgICAgIFtpbnRdJEFzc2lzdExldmVsID0gNSwNCiAgICAgICAgW2ludF0kRnJhbWVzID0gMCwNCiAgICAgICAgW2RvdWJsZV0kQXZlcmFnZUxhdGVuY3kgPSAwLA0KICAgICAgICBbYm9vbF0kRW5hYmxlZCA9ICR0cnVlDQogICAgKQ0KICAgIA0KICAgICRncmFkaWVudENvbG9ycyA9IEAoIkJsdWUiLCAiQ3lhbiIsICJHcmVlbiIsICJZZWxsb3ciLCAiTWFnZW50YSIsICJSZWQiLCAiV2hpdGUiLCAiRGFya0N5YW4iLCAiRGFya0dyZWVuIiwgIkRhcmtZZWxsb3ciKQ0KDQogICAgIyBVcGRhdGUgc3RhdHVzDQogICAgJGhvc3QuVUkuUmF3VUkuQ3Vyc29yUG9zaXRpb24gPSAkY3Vyc29yUG9zaXRpb25zWyJzdGF0dXMiXQ0KICAgIGlmICgkRW5hYmxlZCkgeyANCiAgICAgICAgV3JpdGUtSG9zdCAiQUNUSVZFICAiIC1Ob05ld2xpbmUgLUZvcmVncm91bmRDb2xvciBXaGl0ZQ0KICAgIH0gZWxzZSB7IA0KICAgICAgICBXcml0ZS1Ib3N0ICJJTkFDVElWRSIgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIFdoaXRlDQogICAgfQ0KICAgIA0KICAgICMgR3JhZGllbnQgYmFyIGhlbHBlcg0KICAgIGZ1bmN0aW9uIFdyaXRlLUdyYWRpZW50QmFyIHsNCiAgICAgICAgcGFyYW0oDQogICAgICAgICAgICBbaW50XSRWYWx1ZSwNCiAgICAgICAgICAgIFtzdHJpbmddJExhYmVsDQogICAgICAgICkNCiAgICAgICAgV3JpdGUtSG9zdCAiWyIgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIFdoaXRlDQogICAgICAgIGZvciAoJGkgPSAwOyAkaSAtbHQgMTA7ICRpKyspIHsNCiAgICAgICAgICAgIGlmICgkaSAtbHQgJFZhbHVlKSB7DQogICAgICAgICAgICAgICAgJGNvbG9yID0gJGdyYWRpZW50Q29sb3JzWyRpICUgJGdyYWRpZW50Q29sb3JzLkNvdW50XQ0KICAgICAgICAgICAgICAgIFdyaXRlLUhvc3QgInwiIC1Ob05ld2xpbmUgLUZvcmVncm91bmRDb2xvciAkY29sb3INCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgV3JpdGUtSG9zdCAiLiIgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIERhcmtHcmF5DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgV3JpdGUtSG9zdCAiXSAkVmFsdWUvMTAiIC1Ob05ld2xpbmUgLUZvcmVncm91bmRDb2xvciBXaGl0ZQ0KICAgICAgICBpZiAoJExhYmVsKSB7IFdyaXRlLUhvc3QgIiAgJExhYmVsIiAtTm9OZXdsaW5lIC1Gb3JlZ3JvdW5kQ29sb3IgR3JheSB9DQogICAgfQ0KDQogICAgIyBVcGRhdGUgc3RyZW5ndGggYmFyDQogICAgJGhvc3QuVUkuUmF3VUkuQ3Vyc29yUG9zaXRpb24gPSAkY3Vyc29yUG9zaXRpb25zWyJzdHJlbmd0aCJdDQogICAgV3JpdGUtR3JhZGllbnRCYXIgLVZhbHVlICRTdHJlbmd0aCAtTGFiZWwgIiINCiAgICANCiAgICAjIFVwZGF0ZSBzbW9vdGhuZXNzIGJhcg0KICAgICRob3N0LlVJLlJhd1VJLkN1cnNvclBvc2l0aW9uID0gJGN1cnNvclBvc2l0aW9uc1sic21vb3RobmVzcyJdDQogICAgV3JpdGUtR3JhZGllbnRCYXIgLVZhbHVlICRTbW9vdGhuZXNzIC1MYWJlbCAiIg0KICAgIA0KICAgICMgVXBkYXRlIGFzc2lzdCBsZXZlbCBiYXINCiAgICAkaG9zdC5VSS5SYXdVSS5DdXJzb3JQb3NpdGlvbiA9ICRjdXJzb3JQb3NpdGlvbnNbImFzc2lzdCJdDQogICAgV3JpdGUtR3JhZGllbnRCYXIgLVZhbHVlICRBc3Npc3RMZXZlbCAtTGFiZWwgIiINCiAgICANCiAgICAjIFVwZGF0ZSBGUFMNCiAgICAkaG9zdC5VSS5SYXdVSS5DdXJzb3JQb3NpdGlvbiA9ICRjdXJzb3JQb3NpdGlvbnNbImZwcyJdDQogICAgV3JpdGUtSG9zdCAkRnJhbWVzLlRvU3RyaW5nKCkuUGFkUmlnaHQoNSkgLU5vTmV3bGluZSAtRm9yZWdyb3VuZENvbG9yIEdyYXkNCiAgICANCiAgICAjIFVwZGF0ZSBsYXRlbmN5DQogICAgJGhvc3QuVUkuUmF3VUkuQ3Vyc29yUG9zaXRpb24gPSAkY3Vyc29yUG9zaXRpb25zWyJsYXRlbmN5Il0NCiAgICBXcml0ZS1Ib3N0ICgkQXZlcmFnZUxhdGVuY3kuVG9TdHJpbmcoIjAuMDAiKSArICJtcyIpIC1Ob05ld2xpbmUgLUZvcmVncm91bmRDb2xvciBHcmF5DQp9DQoNCiMgSW5pdGlhbGl6ZSB0aGUgVUkgb25jZQ0KSW5pdGlhbGl6ZS1VSQ0KDQojIFVwZGF0ZSB0aGUgVUkgd2l0aCByZWR1Y2VkIHJlZnJlc2ggcmF0ZSBhbmQgbm8gc2NyZWVuIGNsZWFyaW5nDQp3aGlsZSAoJHRydWUpIHsNCiAgICB0cnkgew0KICAgICAgICAkc3RhdHVzID0gQHsNCiAgICAgICAgICAgIEVuYWJsZWQgPSBbU2FnZVhEcmFnQXNzaXN0XTo6RW5hYmxlZA0KICAgICAgICAgICAgU3RyZW5ndGggPSBbU2FnZVhEcmFnQXNzaXN0XTo6U3RyZW5ndGgNCiAgICAgICAgICAgIFNtb290aG5lc3MgPSBbU2FnZVhEcmFnQXNzaXN0XTo6U21vb3RobmVzcw0KICAgICAgICAgICAgQXNzaXN0TGV2ZWwgPSBbU2FnZVhEcmFnQXNzaXN0XTo6QXNzaXN0TGV2ZWwNCiAgICAgICAgICAgIEZyYW1lcyA9IFtTYWdlWERyYWdBc3Npc3RdOjpGcmFtZXMNCiAgICAgICAgICAgIEF2ZXJhZ2VMYXRlbmN5ID0gW1NhZ2VYRHJhZ0Fzc2lzdF06OkF2ZXJhZ2VMYXRlbmN5DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIFVwZGF0ZS1VSSBAc3RhdHVzDQogICAgICAgIFN0YXJ0LVNsZWVwIC1NaWxsaXNlY29uZHMgMTAwICAjIDEwIEZQUyBmb3Igc21vb3RoIHVwZGF0ZXMNCg0KICAgICAgICBpZiAoJGRyYWdBc3Npc3RUaHJlYWQuSW52b2NhdGlvblN0YXRlSW5mby5TdGF0ZSAtbmUgIlJ1bm5pbmciKSB7DQogICAgICAgICAgICBXcml0ZS1Ib3N0ICJbIV0gRHJhZyBhc3Npc3QgdGhyZWFkIGhhcyBzdG9wcGVkIHVuZXhwZWN0ZWRseSEiIC1Gb3JlZ3JvdW5kQ29sb3IgUmVkDQogICAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgfQ0KICAgIGNhdGNoIHsNCiAgICAgICAgV3JpdGUtSG9zdCAiWyFdIFVJIFVwZGF0ZSBFcnJvcjogJF8iIC1Gb3JlZ3JvdW5kQ29sb3IgUmVkDQogICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzIDENCiAgICB9DQp9DQoNCiMgQ2xlYW4gdXAgd2hlbiBleGl0aW5nDQp0cnkgew0KICAgICRkcmFnQXNzaXN0VGhyZWFkLlN0b3AoKQ0KICAgICRkcmFnQXNzaXN0VGhyZWFkLkRpc3Bvc2UoKQ0KICAgIFtDb25zb2xlXTo6Q3Vyc29yVmlzaWJsZSA9ICR0cnVlDQp9DQpjYXRjaCB7DQogICAgIyBJZ25vcmUgY2xlYW51cCBlcnJvcnMNCn0=';
$decoded = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($payload));
Invoke-Expression $decoded;
